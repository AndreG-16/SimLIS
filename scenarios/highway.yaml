site_type: highway                                            # Standort des Ladepunkts
time_resolution_min: 5                                        # Zeitschritt, in der die Simulation berechnet wird
simulation_horizon_days: 365                                  # gewünschter Analysehorizont in Tagen

start_datetime: "2025-01-01 00:00"                            # Zeitpunkt, ab dem die Simulation beginnen soll

charging_strategy: "immediate"                                # "immediate" | "market" | "pv"
charging_strategy_fallback:                                   # "immediate" | "market" 
localload_pv_market_csv: "../data/localload_pv_market_highway.csv"    # CSV-Datei mit den Daten zur Grundlast, PV-Erzeugung und Marktpreisen
  
timezone: "Europe/Berlin"                                     # Zeitzone, in der sich die Anlage befindet
holidays:
  country: "DE"
  subdivision: "HH"                                           # Bundesland als Code: BW, BY, BE, BB, HB, HH, HE, MV, NI, NW, RP, SL, SN, ST, SH, TH
  dates: []                                                   # zusätzliche bekannte betriebsfreie Tage manuell eingeben, getrennt durch neue Zeile (- "2026-01-01")

site:
  number_chargers: 10                                         # Anzahl der Ladepunkte am Standort
  rated_power_kw: 300                                         # Verfügbare Leistung pro Ladepunkt
  grid_limit_p_avb_kw: 2000                                   # Maximale Anschlussleistung durch Netzbetreiber vorgegeben
  expected_sessions_per_charger_per_day: [5.0, 14.0]          # erwartete Ladevorgänge pro LP und Tag
  charger_efficiency: 0.95                                    # Verhältnis Fahrzeugaufnahme zu abgegebener LP-Leistung
  allow_cross_day_charging: true                              # Ermöglicht Ladungen über Mitternacht hinaus

  # =============================================================================
  # Angaben zur lokalen PV-Anlage
  # =============================================================================
  pv_system_size_kwp: 1000                                    # Größe der untersuchten Anlage in kWp
  
  # =============================================================================
  # Grundlast des Standorts - Gebäudeprofil
  # =============================================================================
  base_load_annual_kwh: 10000                                  # jährlicher standortspezifischer Verbrauch

# =============================================================================
# Fuhrparkbeschreibung – Ladekurven + Kapazitäten kommen aus CSV
# =============================================================================

vehicles:
  soc_target: 0.95                                             # Gewünschter Ladezustand am Ende des Ladeprozesses
  vehicle_curve_csv: "../data/Ladekurven_Master.csv"           # Batteriekapazität und Ladekurve nach SOC
  fleet_mix:                                                   # Gewichtung der Fahrzeugtypen - PKW & Transporter
    PKW: 0.5
    Transporter: 0.5
  vehicle_type: ["Mercedes E-Sprinter"]                        # Fahrzeuge können bei bekannten Fuhrpark spezifisch als In-Liste eingegeben werden (z.B. ["Fiat 500e Hatchback", "Audi e-tron GT", "Mercedes E-Sprinter"])

# =============================================================================
# Ankunftszeiten, Standzeit und SoC bei Ankunft
# =============================================================================

# Ankunftszeiten an den Ladepunkten
arrival_time_distribution:
  type: mixture
  time_unit: minutes

  # Skalierung der Ladevorgänge je nach Tagtyp
  weekday_weight:
    working_day: 0.8                         # mittlerer bis hoher Betrieb durch Pendler und Lieferungen
    saturday: 0.6                            # mittlerer Betrieb durch Tagesausflüge
    sunday_holiday: 0.6                       # mittlerer Betrieb durch Tages- und Wochenendausflüge

  components_per_weekday:
    # Highway: zwei Peaks – mittags und am frühen Abend
    # Die Bennenung 'name' hat keine Funktion für den Code und kann beliebig angepasst werden
    working_day:
      - name: peak_1                                  # Ladungen zur Mittagspause
        distribution: normal
        mu: 13.0                                      # Peak in Stunden seit Mitternacht (z. B. 12.0 = 12:00 Uhr)
        sigma: 2.0                                    # Streuung in Stunden
        weight: 0.5                                   # Gewichtung innerhalb working_day

      - name: peak_2
        distribution: normal
        mu: 18
        sigma: 1.5
        weight: 0.5

    saturday:
      - name: peak_3
        distribution: normal
        mu: 13.0
        sigma: 1.5
        weight: 0.6

      - name: peak_4
        distribution: normal
        mu: 18.0
        sigma: 1.5
        weight: 0.4

    sunday_holiday:
      - name: peak_5
        distribution: normal
        mu: 14
        sigma: 2.0
        weight: 0.7

      - name: peak_6
        distribution: normal
        mu: 18.0
        sigma: 1.0
        weight: 0.3


# Parkdauer in Minuten ab Ankunft; Verteilung ist eine Mischung aus Kurz- und Langzeitparkern
# Highway: deutlich mehr Kurzparker, die auf das Nötigste beschränkt sind (Essen, Tanken, WC-Pause)
parking_duration_distribution:
  type: mixture
  time_unit: minutes
  max_duration_minutes: 180                 # Obergrenze maximale Ladedauer
  min_duration_minutes: 15                  # Untergrenze minimale Ladedauer

  components:
  # Die Bennenung 'name' hat keine Funktion für den Code und kann beliebig angepasst werden
    - name: short_stay                      # typischer HPC-Stop (20–40 Minuten)
      distribution: normal
      weight: 0.85                          # Anteil Kurzparker
      mu: 30                                # mittlere Parkdauer in Minuten
      sigma: 10                             # Streuung in Minuten

    - name: long_stay
      distribution: normal
      weight: 0.15                          # Anteil Langzeitparker
      mu: 50                                # längere Stopps in Minuten
      sigma: 10


# Batteriezustand bei Ankunft; Verteilung ist eine Mischung aus spontanem Laden und Laden aufgrund niedrigem Batteriezustand
# Highway: deutlich mehr "low battery"-Charging, weniger opportunistisch
soc_at_arrival_distribution:
  type: mixture
  value_unit: fraction                      # 0.0 bis 1.0
  max_soc: 0.80                             # maximales SoC bei Ankunft

  components:
  # Die Bennenung 'name' hat keine Funktion für den Code und kann beliebig angepasst werden
    - name: low_battery_charging            # Laden aufgrund leerer Batterie / gezielte Anfahrt
      distribution: beta
      weight: 0.85
      alpha: 1.8                     
      beta: 4.5

    - name: opportunistic_charging          # Laden aus Gelegenheit
      distribution: normal
      weight: 0.15
      mu: 0.4
      sigma: 0.05
