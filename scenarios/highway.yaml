site_type: office      # Standort des Ladepunkts

time_resolution_min: 60     # Zeitschritt, in der die Simulation abgebildet wird
simulation_horizon_days: 10     # gewünschter Analysehorizont in Tagen

start_datetime: "2025-04-19 00:00"      # Zeitpunkt, ab dem der Lastgang anfangen soll

site:
  number_chargers: 20     # Anzahl der Ladepunkte am Standort
  rated_power_kw: 300    # Verfügbare Leistung pro Ladepunkt
  grid_limit_p_avb_kw: 5000     # Maximale Anschlussleistung durch Netzbetreiber vorgegeben
  expected_sessions_per_charger_per_day: [5.0, 14.0]      # Ladungen, die schätzungsweise pro LP an einem Tag stattfinden
  charger_efficiency: 0.95      # Verhältnis der aufgenommenen Leistung des Fahrzeugs zur abgegebenen Leistung des Ladepunkts
  charging_strategy: "immediate"      # Vom Betreiber festgelegte Strategie zur Bereitstellung des Stroms

## hier ist der Fuhrpark abzubilden. Dieser besteht aus mehr als einem Fahrzeug. Hier macht es Sinn Fuhrparkdaten und Ladekurven als csv zu speichern und zu laden
vehicles:
  soc_target: 1.0     # Gewünschter Ladezustand am Ende des Ladeprozesses
  battery_capacity_kwh: 60      # Batteriekapazität des Fahrzeugs
  max_pwr_vehicle_kw: 50      # Maximale Ladeleistung, die das Fahrzeug aufnehmen kann
  ## Wie gehst du damit um, wenn die vorgegebenen Ladungen nicht gehalten werden können, weil besonders beim Office alle gleichzeitig ankommen?

# Zeiten, an denen die Fahrer an den Ladepunkten ankommen
arrival_time_distribution:
  type: lognormal_mixture
  time_unit: minutes

  weekday_weight:     # Anteil der Mitarbeiter zur Gesamtbelegschaft, die an den entsprechenden Tagen nicht im Home Office oder Außerhalb arbeitet
    working_day: [0.55, 0.95]     # Minimale und maximale Belegung an Werktagen
    saturday: [0.40, 0.90]
    sunday_holiday: [0.7, 0.9]

  components_per_weekday:
  ## gestalte die unterschiedlichen peaks pro Tag modular ergänzbar, sodass diese je nach Schichtbetrieb angepasst werden können.
    working_day:
      - mu: [1.60, 3.80]      # Peak Morgens
        sigma: [0.25, 0.30]     # Streuung der Ankünfte
        shift_minutes: 360     # 06:00 Start
        weight: 1.0      # Anteil der Belegschaft, die Morgens anfängt zu arbeiten
    saturday:
      - mu: [3.60, 6.80]      # Peak Morgens
        sigma: [0.30, 0.50]     # Streuung der Ankünfte
        shift_minutes: 360     # 06:00 Start
        weight: 1.0      # Anteil der Belegschaft, die Morgens anfängt zu arbeiten
    sunday_holiday:
      - mu: [5.60, 6.80]      # Peak Morgens
        sigma: [0.30, 0.50]     # Streuung der Ankünfte
        shift_minutes: 360     # 06:00 Start
        weight: 1.0      # Anteil der Belegschaft, die Morgens anfängt zu arbeiten

# Parkdauer in Minuten ab Ankunft; Verteilung ist eine Mischung aus Kurz- und Langzeitparkern
## Lege hier nur die Grenzen fest und randomisiere parking duration und "components" im Modell.
parking_duration_distribution:
  type: lognormal_mixture
  time_unit: minutes
  max_duration_minutes: 60     # 12 Stunden

  components:
    - name: short_stay      # Mitarbeiter, die zum Beispiel teilzeit arbeiten
      weight: 0.85      # Anteil der Mitarbeiter, die teilzeit arbeiten
      mu: [50, 100]     # 4.5 Stunden
      sigma: [0.15, 0.25]

    - name: long_stay     # Langzeitparker / Vollzeitkräfte
      weight: 0.15      # Anteil der Mitarbeiter, die vollzeit arbeiten
      mu: [100, 200]       # 9.5 Stunden
      sigma: [0.25, 0.35]

# Batteriezustand bei Ankunft; Verteilung ist eine Mischung aus spontanen Laden und Laden aufgrund niedrigem Batteriezustand
## Lege hier nur die Grenzen fest und randomisiere im Modell. Charging strategies unterscheiden sich je nach Standort. Lege die ggf. im Modell fest.
soc_at_arrival_distribution:
  type: lognormal_mixture
  value_unit: fraction        # 0.0 bis 1.0
  max_soc: 0.85               # 85 % maximaler SoC bei Ankunft

  components:
    - name: opportunistic_charging      # Laden aus Gelegenheit und nicht aus Notwendigkeit
      weight: 0.80      # Anteil der Fahrer, die aus der Gelegenheit laden
      mu: [0.40, 0.50]      # Durchschnittler SoC bei Ankunft
      sigma: [0.15, 0.25]

    - name: low_battery_charging      # Laden aufgrund leerer Batterie / gezielte Anfahrt
      weight: 0.20      # Anteil der Fahrer, die aufgrund leerer Batterie laden
      mu: [0.25, 0.35]
      sigma: [0.25, 0.35]

holidays:
  dates:
    - "2025-01-01"
    - "2025-04-18"
    - "2025-04-21"
    - "2025-05-01"
    - "2025-05-29"
    - "2025-10-03"
    - "2025-12-25"
    - "2025-12-26"