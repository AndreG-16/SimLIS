site_type: office                                             # Standort des Ladepunkts
time_resolution_min: 15                                       # Zeitschritt, in der die Simulation berechnet wird
simulation_horizon_days: 5                                    # gewünschter Analysehorizont in Tagen

start_datetime: "2025-03-24 00:00"                            # Zeitpunkt, ab dem die Simulation beginnen soll

charging_strategy: "market"                                       # "immediate" | "market" | "pv"
localload_pv_market_csv: "../data/localload_pv_market_office.csv"    # CSV-Datei mit den Daten zur Grundlast, PV-Erzeugung und Marktpreisen
  
timezone: "Europe/Berlin"                                     # Zeitzone, in der sich die Anlage befindet
holidays:
  country: "DE"
  subdivision: "BY"                                           # Bundesland als Code: BW, BY, BE, BB, HB, HH, HE, MV, NI, NW, RP, SL, SN, ST, SH, TH
  dates: []                                                   # zusätzliche bekannte betriebsfreie Tage manuell eingeben, getrennt durch neue Zeile (- "2026-01-01")
     
site:
  number_chargers: 3                                          # Anzahl der Ladepunkte am Standort
  rated_power_kw: 20                                          # Verfügbare Leistung pro Ladepunkt
  grid_limit_p_avb_kw: 50                                     # Maximale Anschlussleistung durch Netzbetreiber vorgegeben
  expected_sessions_per_charger_per_day: 3                    # erwartete Ladevorgänge pro LP und Tag
  charger_efficiency: 0.95                                    # Verhältnis Fahrzeugaufnahme zu abgegebener LP-Leistung
  allow_cross_day_charging: false                             # Ermöglicht keine Ladungen über Mitternacht hinaus
  
  # =============================================================================
  # Angaben zur lokalen PV-Anlage
  # =============================================================================
  pv_system_size_kwp: 100                                      # Größe der untersuchten Anlage in kWp
  
  # =============================================================================
  # Grundlast des Standorts - Gebäudeprofil
  # =============================================================================
  base_load_annual_kwh: 50000                                 # jährlicher standortspezifischer Verbrauch


# =============================================================================
# Fuhrparkbeschreibung – Ladekurven + Kapazitäten kommen aus CSV
# =============================================================================

vehicles:
  soc_target: 0.95                                             # Gewünschter Ladezustand am Ende des Ladeprozesses
  vehicle_curve_csv: "../data/Ladekurven_Master.csv"           # Batteriekapazität und Ladekurve nach SOC
  fleet_mix:                                                   # Gewichtung der Fahrzeugtypen - PKW & Transporter
    PKW: 0.98
    Transporter: 0.02
  vehicle_type: 


# =============================================================================
# Ankunftszeiten, Standzeit und SoC bei Ankunft
# =============================================================================
# Ankunftszeiten an den Ladepunkten
arrival_time_distribution:
  type: mixture
  time_unit: hours

  # Skalierung der Ladevorgänge je nach Tagtyp
  weekday_weight:
    working_day: 1.0               # hoher Betrieb an Arbeitstagen
    saturday: 0.05                # sehr geringer Betrieb am Samstag
    sunday_holiday: 0.01          # kein bzw. vernachlässigbarer Betrieb an Sonn- und Feiertagen

  components_per_weekday:
    # Die Bennenung 'name' hat keine Funktion für den Code und kann beliebig angepasst werden
    working_day:
      - name: peak_1                      # typische Ankunftszeit der Mitarbeiter am Morgen
        distribution: normal
        mu: 8.5                         # Peak in Stunden seit Mitternacht (z.B. 7.5 = 7:30 Uhr)
        sigma: 1.0                 # Streuung in Stunden
        weight: 0.7                       # Gewichtung innerhalb working_day

      - name: peak_2                      # typische Ankunftszeit von Teilzeitkräften, später kommenden Mitarbeitern oder externen Besuchern
        distribution: normal
        mu: 12.5
        sigma: 0.75
        weight: 0.3

    saturday:
      - name: peak_3                      # irreguläre Ankunftszeiten an einem Samstag durch Support- oder Sonderbetrieb
        distribution: normal
        mu: 11.0
        sigma: 1.5
        weight: 1.0

    sunday_holiday:
      - name: peak_4                      # Ankünfte bei seltenem Supportbetrieb am Sonntag/Feiertag
        distribution: normal
        mu: 12.5
        sigma: 1.5
        weight: 1.0

# Parkdauer in Minuten ab Ankunft; Verteilung ist eine Mischung aus Kurz- und Langzeitparkern
parking_duration_distribution:
  type: mixture
  time_unit: minutes
  max_duration_minutes: 720               # Obergrenze maximale Ladedauer (z.B. 12 Stunden)
  min_duration_minutes: 30                # Untergrenze minimale Ladedauer

  components:
  # Die Bennenung 'name' hat keine Funktion für den Code und kann beliebig angepasst werden
    - name: long_stay                     # Vollzeitmitarbeiter
      distribution: normal
      weight: 1.0
      mu: 450                             # typische Parkdauer in Minuten
      sigma: 60                           # Streuung in Minuten

    - name: medium_stay                   # Teilzeitmitarbeiter / längere Meetings 
      distribution: normal
      weight: 0.2
      mu: 180             
      sigma: 45

    - name: short_stay                    # Besucher / kurze Termine
      distribution: normal
      weight: 0.1
      mu: 60               
      sigma: 15

# Batteriezustand bei Ankunft; Verteilung ist eine Mischung aus gezieltem Laden und opportunistischem Laden
# Office: Mischung aus Pendlern (mittlerer SoC) und Mitarbeitern, die „wenn möglich“ laden (höherer SoC)
soc_at_arrival_distribution:
  type: mixture
  value_unit: fraction                    # 0.0 bis 1.0
  max_soc: 0.70                           # maximales SoC bei Ankunft

  components:
  # Die Bennenung 'name' hat keine Funktion für den Code und kann beliebig angepasst werden
    - name: low_battery_charging          # Pendler mit eher mittlerem SoC, die gezielt nachladen
      distribution: beta
      weight: 0.9
      alpha: 3.5                   # formt Peak ungefähr bei 0.3–0.5
      beta: 4.0

    - name: opportunistic_charging        # „Wenn ich sowieso im Büro bin, lade ich mit“
      distribution: normal
      weight: 0.1
      mu: 0.6                      # eher höherer SoC bei Ankunft
      sigma: 0.1 